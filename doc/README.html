<!DOCTYPE html>
<html xmlns="https://www.daliboris.cz/ns/xproc/analysis">
   <head>
      <meta http-equiv="Content-Type" content="application/xml; charset=UTF-8">
      <title>XProc Analysis Report</title>
      <style>
      @media print {
        details {
        border: 1px solid white;
        }
        details[open] summary {
        border-bottom: 1px solid white;
        }
        .container {
        display: block;
        width: 100%;
        }
        nav.overview {
        display: none;
        }
      }
      details {
      border: 1px solid #aaa;
      border-radius: 4px;
      padding: 0.5em 0.5em 0;
      }
      
      summary {
      margin: -0.5em -0.5em 0;
      padding: 0.5em;
      }
      
      details[open] {
      padding: 0.5em;
      }
      
      details[open] summary {
      border-bottom: 1px solid #aaa;
      margin-bottom: 0.5em;
      }
      table {
      border-collapse: collapse;
      }
      tr.call {
      border-top: 1pt solid black;
      }
      tr.call td.step {
      font-weight: bold;
      }
      tr.disabled {
      color: silver;
      }
      tr.parameter {
      border-bottom: 1pt solid silver;
      }
      .container {
      display: grid;
      grid-template-columns: 3fr 1fr;
      gap: 15px 10px;
      justify-content: stretch;
      }
      .details > .heading {
      /*
      display: grid;
      grid-template-columns: 3fr 1fr;
      gap: 15px;
      justify-content: stretch;
      */
      display: flex;
      justify-content: space-between;
      }
      .heading > fieldset {
      place-self: center stretch;
      }</style>
   </head>
   <body>
      <div class="container">
         <main class="details">
            <div class="heading">
               <h2>Steps details</h2>
               <fieldset>
                  <legend>Expand</legend>
                  <input type="checkbox"
                         id="expand-files"
                         name="files">
                  </input>
                  <label for="expand-files">Files</label>
                  <input type="checkbox"
                         id="expand-documentation"
                         name="documentation">
                  </input>
                  <label for="expand-documentation">Documentation</label>
                  <input type="checkbox"
                         id="expand-steps"
                         name="steps">
                  </input>
                  <label for="expand-steps">Steps</label>
                  <input type="checkbox"
                         id="expand-all"
                         name="all">
                  </input>
                  <label for="expand-steps">All</label>
               </fieldset>
            </div>
            <details class="file">
               <summary>
                  <strong>alto.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:xf="https://www.example.com/ns/xproc/function">
                        <h1>
                        </h1>
                        <p>
                        </p>
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (5)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xf</td>
                           <td>https://www.example.com/ns/xproc/function</td>
                        </tr>
                        <tr>
                           <td>xhtml</td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (1 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:xf="https://www.example.com/ns/xproc/function">
                        <h1>
                        </h1>
                        <p>
                        </p>
                     </section>
                  </details>
                  <details class="step"
                           id="d53e28">
                     <summary>
                        <strong>xf:first-function-alto</strong> (fist-function)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (0)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:xf="https://www.example.com/ns/xproc/function">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (0)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:xf="https://www.example.com/ns/xproc/function">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:xslt</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>parameters</td>
                                 <td>map {'parameter' : 'value' }</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>../Xslt/?.xsl</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
            <details class="file">
               <summary>
                  <strong>conversion.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                        <h1>
                        </h1>
                        <p>
                        </p>
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (7)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>c</td>
                           <td>http://www.w3.org/ns/xproc-step</td>
                        </tr>
                        <tr>
                           <td>lac</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/conversion/1.0</td>
                        </tr>
                        <tr>
                           <td>lad</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/documents/1.0</td>
                        </tr>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xhtml</td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (4 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                        <h1>
                        </h1>
                        <p>
                        </p>
                     </section>
                  </details>
                  <details class="step"
                           id="d53e103">
                     <summary>
                        <strong>lac:convert</strong> (fist-function)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (0)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (4)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>source-format</td>
                                 <td>name = source-format | as = xs:string | values = ('djvu')</td>
                              </tr>
                              <tr>
                                 <td>target-format</td>
                                 <td>name = target-format | as = xs:string | values = ('pdf', 'tiff')</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (0)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:xslt</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>parameters</td>
                                 <td>map {'parameter' : 'value' }</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>../Xslt/?.xsl</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e154">
                     <summary>
                        <strong>lac:convert-djvu</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (12)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>Convert DjVu</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (8)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>main-input-directory</td>
                                 <td>name = main-input-directory | as = xs:anyURI | required = true</td>
                              </tr>
                              <tr>
                                 <td>main-output-directory</td>
                                 <td>name = main-output-directory | as = xs:anyURI | required = true</td>
                              </tr>
                              <tr>
                                 <td>output-file</td>
                                 <td>name = output-file | as = xs:string | required = true</td>
                              </tr>
                              <tr>
                                 <td>format</td>
                                 <td>name = format | values = ('pdf', 'tiff') | select = 'pdf'</td>
                              </tr>
                              <tr>
                                 <td>pdfbox-path</td>
                                 <td>name = pdfbox-path | as = xs:string | required = true</td>
                              </tr>
                              <tr>
                                 <td>ddjvu-path</td>
                                 <td>name = ddjvu-path | as = xs:string | required = true</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 3)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (12)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>Convert DjVu</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>lac:convert-djvu-item</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e219">
                     <summary>
                        <strong>lac:convert-djvu-item</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (17)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>Convert DjVu item</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (8)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>input-directory</td>
                                 <td>name = input-directory | as = xs:anyURI | required = true</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | as = xs:anyURI | required = true</td>
                              </tr>
                              <tr>
                                 <td>output-file</td>
                                 <td>name = output-file | as = xs:anyURI | required = true</td>
                              </tr>
                              <tr>
                                 <td>format</td>
                                 <td>name = format | values = ('pdf', 'tiff') | select = 'pdf'</td>
                              </tr>
                              <tr>
                                 <td>pdfbox-path</td>
                                 <td>name = pdfbox-path | as = xs:string | required = true</td>
                              </tr>
                              <tr>
                                 <td>ddjvu-path</td>
                                 <td>name = ddjvu-path | as = xs:string | required = true</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>source</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 10)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (17)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>Convert DjVu item</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:directory-list</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>path</td>
                                 <td>{$input-directory}</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:for-each</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>//c:file</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:text-join</td>
                                 <td>djvu-conversion</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>separator</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:identity</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">lac:fix-path</td>
                                 <td>pdf-merge</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="call">
                                 <td>8</td>
                                 <td class="step">p:text-join</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>separator</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>@djvu-conversion @pdf-merge</td>
                              </tr>
                              <tr class="call">
                                 <td>9</td>
                                 <td class="step">p:store</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>{$output-file}</td>
                              </tr>
                              <tr class="call">
                                 <td>10</td>
                                 <td class="step">p:file-mkdir</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>{$output-directory}</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e308">
                     <summary>
                        <strong>lac:fix-path</strong> (fixing-path)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (8)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>Fix path</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>source</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (8)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>Fix path</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:file-info</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>fail-on-error</td>
                                 <td>false</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>file:///C:/Windows</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:text-replace</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:text-replace</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>exists(/c:directory[@name='Windows'])</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
            <details class="file">
               <summary>
                  <strong>enrichment.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (178)          
        </summary>
                     <section xml:lang="en"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                              xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                              xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Enrichment</h1>
                        <p>The main programming library for enrichment data by external (web) services.</p>
                     </section>
                     <section xml:lang="cs"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                              xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                              xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Obohacení</h1>
                        <p>Hlavní programová knihovna pro obohacení dat pomocí externích (webových) služeb.</p>
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (11)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>lad</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/documents/1.0</td>
                        </tr>
                        <tr>
                           <td>lae</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0</td>
                        </tr>
                        <tr>
                           <td>lant</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/nametag/1.0</td>
                        </tr>
                        <tr>
                           <td>lap</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/processing/1.0</td>
                        </tr>
                        <tr>
                           <td>lar</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/report/1.0</td>
                        </tr>
                        <tr>
                           <td>las</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/settings/1.0</td>
                        </tr>
                        <tr>
                           <td>lax</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/xproc/1.0</td>
                        </tr>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xhtml</td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
                  <details class="imports">
                     <summary>
                        <strong>Imports</strong>  (0)</summary>
                     <ol>
                     </ol>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (3 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (178)          
        </summary>
                     <section xml:lang="en"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                              xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                              xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Enrichment</h1>
                        <p>The main programming library for enrichment data by external (web) services.</p>
                     </section>
                     <section xml:lang="cs"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                              xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                              xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Obohacení</h1>
                        <p>Hlavní programová knihovna pro obohacení dat pomocí externích (webových) služeb.</p>
                     </section>
                  </details>
                  <details class="step"
                           id="d53e424">
                     <summary>
                        <strong>lae:enrich-data</strong> (enriching-data)</summary>
                     <div class="prolog">
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (6)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | required = true | as = xs:string</td>
                              </tr>
                              <tr>
                                 <td>pause-before-request</td>
                                 <td>name = pause-before-request | select = 2 | as = xs:integer</td>
                              </tr>
                              <tr>
                                 <td>output-format</td>
                                 <td>name = output-format | values = ('TEXT', 'TEI') | as = xs:string*</td>
                              </tr>
                              <tr>
                                 <td>enrichment</td>
                                 <td>name = enrichment | values = ('ENTITIES', 'MORPHOLOGY') | as = xs:string*</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>settings</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 2)</summary>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>lae:enrich-by-entities</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$enrichment = 'ENTITIES'</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>lae:enrich-by-morphology</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$enrichment = 'MORPHOLOGY'</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e462">
                     <summary>
                        <strong>lae:enrich-by-entities</strong> (enriching-by-entities)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (144)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Enrich by entities</h2>
                              <p>Enriches available (textual) data by named entities.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Obohacení o entity</h2>
                              <p>Obohatí dostupná (textová) data o pojmenované entity.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (3)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | required = true | as = xs:string</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>settings</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 6)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (144)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Enrich by entities</h2>
                              <p>Enriches available (textual) data by named entities.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Obohacení o entity</h2>
                              <p>Obohatí dostupná (textová) data o pojmenované entity.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:insert</td>
                                 <td>report-start</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>report-in@enriching-by-entities</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">lant:get-nametag-analyses</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>output-directory</td>
                                 <td>{$output-directory}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@report-start</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>settings@enriching-by-entities</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@enriching-by-entities</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:identity</td>
                                 <td>final</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:add-attribute</td>
                                 <td>report-final</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-name</td>
                                 <td>end</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-value</td>
                                 <td>{current-dateTime()}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lax:step[@type='lae:enrich-by-entities'][not(@end)]</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@report-start</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e557">
                     <summary>
                        <strong>lae:enrich-by-morphology</strong> (enriching-by-morphology)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (186)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Enrich by morphology</h2>
                              <p>Enriches available (textual) data by morphological and syntactic analysis.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Obohacení o entity</h2>
                              <p>Obohatí dostupná (textová) data o morfologickou a syntaktickou analýzu.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (3)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | required = true | as = xs:string</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>settings</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 6)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (186)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Enrich by morphology</h2>
                              <p>Enriches available (textual) data by morphological and syntactic analysis.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Obohacení o entity</h2>
                              <p>Obohatí dostupná (textová) data o morfologickou a syntaktickou analýzu.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:insert</td>
                                 <td>report-start</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>report-in@enriching-by-morphology</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:identity</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@enriching-by-morphology</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:identity</td>
                                 <td>final</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:add-attribute</td>
                                 <td>report-final</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-name</td>
                                 <td>end</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-value</td>
                                 <td>{current-dateTime()}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lax:step[@type='lae:enrich-by-morphology'][not(@end)]</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@report-start</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
            <details class="file">
               <summary>
                  <strong>kramerius-5.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (166)          
        </summary>
                     <section xml:lang="en"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Kramerius 5</h1>
                        <p>Programming library for communication with the system <a href="https://system-kramerius.cz/en">Kramerius</a>, <a href="https://github.com/ceskaexpedice/kramerius/wiki/ClientAPIDEV">version 5</a>.</p>
                     </section>
                     <section xml:lang="cs"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Kramerius 5</h1>
                        <p>Programová knihovna pro komunikaci se systémem <a href="https://system-kramerius.cz">Kramerius</a>, <a href="https://github.com/ceskaexpedice/kramerius/wiki/ClientAPIDEV">verze 5</a>.</p>
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (10)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>array</td>
                           <td>http://www.w3.org/2005/xpath-functions/array</td>
                        </tr>
                        <tr>
                           <td>lad</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/documents/1.0</td>
                        </tr>
                        <tr>
                           <td>las</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/settings/1.0</td>
                        </tr>
                        <tr>
                           <td>lax</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/xproc/1.0</td>
                        </tr>
                        <tr>
                           <td>map</td>
                           <td>http://www.w3.org/2005/xpath-functions/map</td>
                        </tr>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xhtml</td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>xlog</td>
                           <td>https://www.daliboris.cz/ns/xproc/logging/1.0</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
                  <details class="options">
                     <summary>
                        <strong>Options</strong>  (0)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>name</th>
                              <th>properties</th>
                           </tr>
                        </thead>
                     </table>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (7 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (166)          
        </summary>
                     <section xml:lang="en"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Kramerius 5</h1>
                        <p>Programming library for communication with the system <a href="https://system-kramerius.cz/en">Kramerius</a>, <a href="https://github.com/ceskaexpedice/kramerius/wiki/ClientAPIDEV">version 5</a>.</p>
                     </section>
                     <section xml:lang="cs"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Kramerius 5</h1>
                        <p>Programová knihovna pro komunikaci se systémem <a href="https://system-kramerius.cz">Kramerius</a>, <a href="https://github.com/ceskaexpedice/kramerius/wiki/ClientAPIDEV">verze 5</a>.</p>
                     </section>
                  </details>
                  <details class="step"
                           id="d53e721">
                     <summary>
                        <strong>lax:get-virtual-document-metadata-v5</strong> (getting-virtual-document-metadata)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (495)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document metadata</h2>
                              <p>Gathers all requested metadata about the publication. Creates the content of the virtual document with links to all requested resources.</p>
                              <p>Enhance input data by adding requested resources on the document and page level.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání metadat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná metadata o publikaci. Vytvoří strukturu virutálního dokumentu s odkazy na všechny požadované zdroje.</p>
                              <p>Obohatí vstupní data přidáním požadovaných zdrojů na úrovni dokumentu a strany.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 16)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (495)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document metadata</h2>
                              <p>Gathers all requested metadata about the publication. Creates the content of the virtual document with links to all requested resources.</p>
                              <p>Enhance input data by adding requested resources on the document and page level.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání metadat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná metadata o publikaci. Vytvoří strukturu virutálního dokumentu s odkazy na všechny požadované zdroje.</p>
                              <p>Obohatí vstupní data přidáním požadovaných zdrojů na úrovni dokumentu a strany.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>base-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/lad:options/@base-url</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>id</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/@id</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>guid</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>substring-after(/lad:document/@id, ':')</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:variable</td>
                                 <td>url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($base-url, '/item/', $id, '/children')</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>/lad:document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                              <tr class="call">
                                 <td>8</td>
                                 <td class="step">p:identity</td>
                                 <td>document-with-resources</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>9</td>
                                 <td class="step">lax:get-virtual-document-pages</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>document-id</td>
                                 <td>{$guid}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>url</td>
                                 <td>{$url}</td>
                              </tr>
                              <tr class="call">
                                 <td>10</td>
                                 <td class="step">lax:get-available-formats</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-url</td>
                                 <td>{$base-url}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="call">
                                 <td>11</td>
                                 <td class="step">lax:get-source-url</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-url</td>
                                 <td>{$base-url}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="call">
                                 <td>12</td>
                                 <td class="step">p:identity</td>
                                 <td>pages</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>13</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call">
                                 <td>14</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@pages</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>/lad:document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@document-with-resources</td>
                              </tr>
                              <tr class="call">
                                 <td>15</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:add-attribute</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:viewport</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>16</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e857">
                     <summary>
                        <strong>lax:get-virtual-document-data-v5</strong> (getting-virtual-document-data)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (490)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document data</h2>
                              <p>Gathers all requested data about the publication. Downloads the content (files) of the virtual document from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání dat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná data publikace. Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 3)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (490)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document data</h2>
                              <p>Gathers all requested data about the publication. Downloads the content (files) of the virtual document from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání dat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná data publikace. Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e936">
                     <summary>
                        <strong>lax:get-virtual-document-pages</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (329)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document pages</h2>
                              <p>Creates element for each page of the document that contains basic data: identifier, type and (page) number.</p>
                              <p>Returns element <code>&lt;lad:pages></code>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání stránek virtuálního dokumentu</h2>
                              <p>Pro každou stránku dokumentu vytvoří element se základními údaji: identifikátor, typ a číslo (strany).</p>
                              <p>Vrací element <code>&lt;lad:pages></code>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (4)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>url</td>
                                 <td>name = url | as = xs:string</td>
                              </tr>
                              <tr>
                                 <td>document-id</td>
                                 <td>name = document-id | as = xs:string</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (1)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 5)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (329)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document pages</h2>
                              <p>Creates element for each page of the document that contains basic data: identifier, type and (page) number.</p>
                              <p>Returns element <code>&lt;lad:pages></code>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání stránek virtuálního dokumentu</h2>
                              <p>Pro každou stránku dokumentu vytvoří element se základními údaji: identifikátor, typ a číslo (strany).</p>
                              <p>Vrací element <code>&lt;lad:pages></code>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:http-request</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>{$url}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>method</td>
                                 <td>GET</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">lax:pages-convert-json-to-xml</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e1036">
                     <summary>
                        <strong>lax:pages-convert-json-to-xml</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (387)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Pages: convert JSON to XML</h2>
                              <p>Converts from JSON to XML data about the document page. Creates element for the page with basic data: identifier, type and (page) number.</p>
                              <p>Returns <code>&lt;lad:page></code> element.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Strany: konverze JSONu na XML</h2>
                              <p>Zkonvertuje údje o stránce z JSONu do XML. Vytvoří element pro stránku dokumentu se základními údaji: identifikátor, typ a číslo (strany).</p>
                              <p>Vrací element <code>&lt;lad:page></code>.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (387)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Pages: convert JSON to XML</h2>
                              <p>Converts from JSON to XML data about the document page. Creates element for the page with basic data: identifier, type and (page) number.</p>
                              <p>Returns <code>&lt;lad:page></code> element.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Strany: konverze JSONu na XML</h2>
                              <p>Zkonvertuje údje o stránce z JSONu do XML. Vytvoří element pro stránku dokumentu se základními údaji: identifikátor, typ a číslo (strany).</p>
                              <p>Vrací element <code>&lt;lad:page></code>.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:for-each</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>.?*</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:wrap-sequence</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>wrapper</td>
                                 <td>lad:pages</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e1131">
                     <summary>
                        <strong>lax:get-source-url</strong> (getting-source-url)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (371)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get source URL</h2>
                              <p>For a resource associated with a page, builds a URL from the base URL, API version, document identifier, etc.</p>
                              <p>Creates <code>@url</code> attribute for the <code>&lt;lad:page></code> element.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Sestavení URL zdroje</h2>
                              <p>Pro zdroj přiřazený ke stránce sestaví adresu URL ze základní adresy URL, verze rozhraní API, identifikátoru dokumentu apod.</p>
                              <p>Vytvoří atribut <code>@url</code> v rámci elementu <code>&lt;lad:page></code>.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (3)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>base-url</td>
                                 <td>name = base-url | as = xs:anyURI</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (371)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get source URL</h2>
                              <p>For a resource associated with a page, builds a URL from the base URL, API version, document identifier, etc.</p>
                              <p>Creates <code>@url</code> attribute for the <code>&lt;lad:page></code> element.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Sestavení URL zdroje</h2>
                              <p>Pro zdroj přiřazený ke stránce sestaví adresu URL ze základní adresy URL, verze rozhraní API, identifikátoru dokumentu apod.</p>
                              <p>Vytvoří atribut <code>@url</code> v rámci elementu <code>&lt;lad:page></code>.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:viewport</td>
                                 <td>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e1245">
                     <summary>
                        <strong>lax:get-available-formats</strong> (getting-available-formats)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (378)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get available formats</h2>
                              <p>Selects one page from the middle of the document and checks which resources are available on-line.</p>
                              <p>For each requested <code>&lt;resource></code> adds <code>@available</code> attribute.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění dostupných formátů</h2>
                              <p>Pro stránku zprostředka publikace zjistí, které všechny zdroje jsou dostupné on-line.</p>
                              <p>Pro každý požadovaný zdroj vytvoří atribut <code>@available</code> v rámci elementu <code>&lt;lad:resource></code>.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (3)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>base-url</td>
                                 <td>name = base-url | as = xs:anyURI</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 19)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (378)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get available formats</h2>
                              <p>Selects one page from the middle of the document and checks which resources are available on-line.</p>
                              <p>For each requested <code>&lt;resource></code> adds <code>@available</code> attribute.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění dostupných formátů</h2>
                              <p>Pro stránku zprostředka publikace zjistí, které všechny zdroje jsou dostupné on-line.</p>
                              <p>Pro každý požadovaný zdroj vytvoří atribut <code>@available</code> v rámci elementu <code>&lt;lad:resource></code>.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>size</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>as</td>
                                 <td>xs:integer</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>count(/lad:pages/lad:page)</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>page</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:pages/lad:page[xs:integer($size div 2)]</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($base-url, '/item/', $page/@id)</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>alto-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($url, $url-fragments?alto)</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>text-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($url, $url-fragments?text)</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:variable</td>
                                 <td>dc-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($url, $url-fragments?dc)</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:variable</td>
                                 <td>foxml-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($url, $url-fragments?foxml)</td>
                              </tr>
                              <tr class="call">
                                 <td>8</td>
                                 <td class="step">p:variable</td>
                                 <td>mods-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($url, $url-fragments?mods)</td>
                              </tr>
                              <tr class="call">
                                 <td>9</td>
                                 <td class="step">p:variable</td>
                                 <td>image-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($url, $url-fragments?image)</td>
                              </tr>
                              <tr class="call">
                                 <td>10</td>
                                 <td class="step">lax:get-available-format</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>format</td>
                                 <td>alto</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>url</td>
                                 <td>{$alto-url}</td>
                              </tr>
                              <tr class="call">
                                 <td>11</td>
                                 <td class="step">lax:get-available-format</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>format</td>
                                 <td>text</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>url</td>
                                 <td>{$text-url}</td>
                              </tr>
                              <tr class="call">
                                 <td>12</td>
                                 <td class="step">lax:get-available-format</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>format</td>
                                 <td>dc</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>url</td>
                                 <td>{$dc-url}</td>
                              </tr>
                              <tr class="call">
                                 <td>13</td>
                                 <td class="step">lax:get-available-format</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>format</td>
                                 <td>foxml</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>url</td>
                                 <td>{$foxml-url}</td>
                              </tr>
                              <tr class="call">
                                 <td>14</td>
                                 <td class="step">lax:get-available-format</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>format</td>
                                 <td>mods</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>url</td>
                                 <td>{$mods-url}</td>
                              </tr>
                              <tr class="call">
                                 <td>15</td>
                                 <td class="step">lax:get-available-format</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>format</td>
                                 <td>image</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>url</td>
                                 <td>{$image-url}</td>
                              </tr>
                              <tr class="call">
                                 <td>16</td>
                                 <td class="step">p:identity</td>
                                 <td>page-with-formats</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>17</td>
                                 <td class="step">p:variable</td>
                                 <td>page-formats</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/*</td>
                              </tr>
                              <tr class="call">
                                 <td>18</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:page/lad:resource</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@page-with-formats</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>first-child</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@getting-available-formats</td>
                              </tr>
                              <tr class="call">
                                 <td>19</td>
                                 <td class="step">p:namespace-delete</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>prefixes</td>
                                 <td>array</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e1425">
                     <summary>
                        <strong>lax:get-available-format</strong> (getting-available-format)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (247)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get available format</h2>
                              <p>Checks if the resource is available on-line.</p>
                              <p>Returns <code>&lt;resource></code> with the <code>@available</code> attribute.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění dostupnosti formátu</h2>
                              <p>Zjistí, zda je požadovaný zdroj dostupný on-line.</p>
                              <p>Vrací element <code>&lt;lad:resource></code> s atributem <code>@available</code>.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (4)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>url</td>
                                 <td>name = url | as = xs:anyURI | required = true</td>
                              </tr>
                              <tr>
                                 <td>format</td>
                                 <td>name = format | as = xs:string | required = true</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 6)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (247)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get available format</h2>
                              <p>Checks if the resource is available on-line.</p>
                              <p>Returns <code>&lt;resource></code> with the <code>@available</code> attribute.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění dostupnosti formátu</h2>
                              <p>Zjistí, zda je požadovaný zdroj dostupný on-line.</p>
                              <p>Vrací element <code>&lt;lad:resource></code> s atributem <code>@available</code>.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:http-request</td>
                                 <td>request</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>{$url}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>parameters</td>
                                 <td>map{'status-only' : true(), 'follow-redirect' : 3 }</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>available</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>report@request</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>.?status-code = (200, 307, 301)</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:add-attribute</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-name</td>
                                 <td>{$format}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-value</td>
                                 <td>{$available}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@getting-available-format</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>first-child</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
            <details class="file">
               <summary>
                  <strong>kramerius-7.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (166)          
        </summary>
                     <section xml:lang="en"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Kramerius 7</h1>
                        <p>Programming library for communication with the <a href="https://system-kramerius.cz/en">Kramerius</a> system, <a href="https://github.com/ceskaexpedice/kramerius/wiki/API-v7">version 7</a>.</p>
                     </section>
                     <section xml:lang="cs"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Kramerius 7</h1>
                        <p>Programová knihovna pro komunikaci se systémem <a href="https://system-kramerius.cz">Kramerius</a>, <a href="https://github.com/ceskaexpedice/kramerius/wiki/API-v7">verze 7</a>.</p>
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (10)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>array</td>
                           <td>http://www.w3.org/2005/xpath-functions/array</td>
                        </tr>
                        <tr>
                           <td>lad</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/documents/1.0</td>
                        </tr>
                        <tr>
                           <td>las</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/settings/1.0</td>
                        </tr>
                        <tr>
                           <td>lax</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/xproc/1.0</td>
                        </tr>
                        <tr>
                           <td>map</td>
                           <td>http://www.w3.org/2005/xpath-functions/map</td>
                        </tr>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xhtml</td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>xlog</td>
                           <td>https://www.daliboris.cz/ns/xproc/logging/1.0</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (7 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (166)          
        </summary>
                     <section xml:lang="en"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Kramerius 7</h1>
                        <p>Programming library for communication with the <a href="https://system-kramerius.cz/en">Kramerius</a> system, <a href="https://github.com/ceskaexpedice/kramerius/wiki/API-v7">version 7</a>.</p>
                     </section>
                     <section xml:lang="cs"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Kramerius 7</h1>
                        <p>Programová knihovna pro komunikaci se systémem <a href="https://system-kramerius.cz">Kramerius</a>, <a href="https://github.com/ceskaexpedice/kramerius/wiki/API-v7">verze 7</a>.</p>
                     </section>
                  </details>
                  <details class="step"
                           id="d53e1621">
                     <summary>
                        <strong>lax:get-virtual-document-metadata-v7</strong> (getting-virtual-document-metadata)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (495)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document metadata</h2>
                              <p>Gathers all requested metadata about the publication. Creates the content of the virtual document with links to all requested resources.</p>
                              <p>Enhance input data by adding requested resources on the document and page level.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání metadat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná metadata o publikaci. Vytvoří strukturu virutálního dokumentu s odkazy na všechny požadované zdroje.</p>
                              <p>Obohatí vstupní data přidáním požadovaných zdrojů na úrovni dokumentu a strany.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 27)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (495)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document metadata</h2>
                              <p>Gathers all requested metadata about the publication. Creates the content of the virtual document with links to all requested resources.</p>
                              <p>Enhance input data by adding requested resources on the document and page level.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání metadat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná metadata o publikaci. Vytvoří strukturu virutálního dokumentu s odkazy na všechny požadované zdroje.</p>
                              <p>Obohatí vstupní data přidáním požadovaných zdrojů na úrovni dokumentu a strany.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>resources</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/las:api/las:resource</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>library</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/las:library</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>base-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/lad:options/@base-url</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:variable</td>
                                 <td>id</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>replace(/lad:document/@id, ':', '%3A')</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:variable</td>
                                 <td>guid</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>substring-after(/lad:document/@id, ':')</td>
                              </tr>
                              <tr class="call">
                                 <td>8</td>
                                 <td class="step">p:variable</td>
                                 <td>url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($base-url, '/search/api/client/v7.0/search?fl=pid,page.number,page.type&sort=rels_ext_index.sort%20asc&rows=4000&start=0&q=own_parent.pid:', '%22', $id, '%22')</td>
                              </tr>
                              <tr class="call">
                                 <td>9</td>
                                 <td class="step">p:variable</td>
                                 <td>mods-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$resources[@type='MODS']/@url ! replace(., '\{pid\}', $id)</td>
                              </tr>
                              <tr class="call">
                                 <td>10</td>
                                 <td class="step">p:variable</td>
                                 <td>dc-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$resources[@type='DC']/@url ! replace(., '\{pid\}', $id)</td>
                              </tr>
                              <tr class="call">
                                 <td>11</td>
                                 <td class="step">p:variable</td>
                                 <td>foxml-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$resources[@type='FOXML']/@url ! replace(., '\{pid\}', $id)</td>
                              </tr>
                              <tr class="call">
                                 <td>12</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>/lad:document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                              <tr class="call">
                                 <td>13</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call">
                                 <td>14</td>
                                 <td class="step">p:identity</td>
                                 <td>document-with-resources</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>15</td>
                                 <td class="step">lax:get-virtual-document-pages-v7</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>document-id</td>
                                 <td>{$guid}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>library-code</td>
                                 <td>{$library/@code}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>url</td>
                                 <td>{$url}</td>
                              </tr>
                              <tr class="call">
                                 <td>16</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call">
                                 <td>17</td>
                                 <td class="step">p:identity</td>
                                 <td>virutal-pages</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>18</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@virutal-pages</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@document-with-resources</td>
                              </tr>
                              <tr class="call">
                                 <td>19</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call">
                                 <td>20</td>
                                 <td class="step">lax:get-available-formats-v7</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-url</td>
                                 <td>{$base-url}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="call">
                                 <td>21</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call">
                                 <td>22</td>
                                 <td class="step">lax:get-source-url-v7</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="call">
                                 <td>23</td>
                                 <td class="step">p:namespace-delete</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>prefixes</td>
                                 <td>lax xlog array xs map xhtml</td>
                              </tr>
                              <tr class="call">
                                 <td>24</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call">
                                 <td>25</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:add-attribute</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:viewport</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>26</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call disabled">
                                 <td>27</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:pages</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@pages</td>
                              </tr>
                              <tr class="call disabled">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>/lad:document</td>
                              </tr>
                              <tr class="call disabled">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@document-with-resources</td>
                              </tr>
                              <tr class="call disabled">
                                 <td colspan="3">
                                 </td>
                                 <td>use-when</td>
                                 <td>false()</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e1803">
                     <summary>
                        <strong>lax:get-virtual-document-data-v7</strong> (getting-virtual-document-data)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (490)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document data</h2>
                              <p>Gathers all requested data about the publication. Downloads the content (files) of the virtual document from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání dat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná data publikace. Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 6)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (490)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document data</h2>
                              <p>Gathers all requested data about the publication. Downloads the content (files) of the virtual document from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání dat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná data publikace. Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>base-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/lad:options/@base-url</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>id</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/@id</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>guid</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>substring-after(/lad:document/@id, ':')</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:variable</td>
                                 <td>url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($base-url, '/item/', $id, '/children')</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e1891">
                     <summary>
                        <strong>lax:get-virtual-document-pages-v7</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (329)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document pages</h2>
                              <p>Creates element for each page of the document that contains basic data: identifier, type and (page) number.</p>
                              <p>Returns element <code>&lt;lad:pages></code>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání stránek virtuálního dokumentu</h2>
                              <p>Pro každou stránku dokumentu vytvoří element se základními údaji: identifikátor, typ a číslo (strany).</p>
                              <p>Vrací element <code>&lt;lad:pages></code>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>url</td>
                                 <td>name = url | as = xs:string | required = true</td>
                              </tr>
                              <tr>
                                 <td>document-id</td>
                                 <td>name = document-id | as = xs:string | required = true</td>
                              </tr>
                              <tr>
                                 <td>library-code</td>
                                 <td>name = library-code | as = xs:string | required = true</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (1)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 3)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (329)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document pages</h2>
                              <p>Creates element for each page of the document that contains basic data: identifier, type and (page) number.</p>
                              <p>Returns element <code>&lt;lad:pages></code>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání stránek virtuálního dokumentu</h2>
                              <p>Pro každou stránku dokumentu vytvoří element se základními údaji: identifikátor, typ a číslo (strany).</p>
                              <p>Vrací element <code>&lt;lad:pages></code>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:try</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:catch</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:group</td>
                                 <td>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e1982">
                     <summary>
                        <strong>lax:pages-convert-json-to-xml-v7</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (387)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Pages: convert JSON to XML</h2>
                              <p>Converts from JSON to XML data about the document page. Creates element for the page with basic data: identifier, type and (page) number.</p>
                              <p>Returns <code>&lt;lad:page></code> element.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Strany: konverze JSONu na XML</h2>
                              <p>Zkonvertuje údje o stránce z JSONu do XML. Vytvoří element pro stránku dokumentu se základními údaji: identifikátor, typ a číslo (strany).</p>
                              <p>Vrací element <code>&lt;lad:page></code>.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (387)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Pages: convert JSON to XML</h2>
                              <p>Converts from JSON to XML data about the document page. Creates element for the page with basic data: identifier, type and (page) number.</p>
                              <p>Returns <code>&lt;lad:page></code> element.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Strany: konverze JSONu na XML</h2>
                              <p>Zkonvertuje údje o stránce z JSONu do XML. Vytvoří element pro stránku dokumentu se základními údaji: identifikátor, typ a číslo (strany).</p>
                              <p>Vrací element <code>&lt;lad:page></code>.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:for-each</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>.?response?docs?*</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:wrap-sequence</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>wrapper</td>
                                 <td>lad:pages</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e2077">
                     <summary>
                        <strong>lax:get-source-url-v7</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (371)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get source URL</h2>
                              <p>For a resource associated with a page, builds a URL from the base URL, API version, document identifier, etc.</p>
                              <p>Creates <code>@url</code> attribute for the <code>&lt;lad:page></code> element.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Sestavení URL zdroje</h2>
                              <p>Pro zdroj přiřazený ke stránce sestaví adresu URL ze základní adresy URL, verze rozhraní API, identifikátoru dokumentu apod.</p>
                              <p>Vytvoří atribut <code>@url</code> v rámci elementu <code>&lt;lad:page></code>.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 5)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (371)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get source URL</h2>
                              <p>For a resource associated with a page, builds a URL from the base URL, API version, document identifier, etc.</p>
                              <p>Creates <code>@url</code> attribute for the <code>&lt;lad:page></code> element.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Sestavení URL zdroje</h2>
                              <p>Pro zdroj přiřazený ke stránce sestaví adresu URL ze základní adresy URL, verze rozhraní API, identifikátoru dokumentu apod.</p>
                              <p>Vytvoří atribut <code>@url</code> v rámci elementu <code>&lt;lad:page></code>.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>options</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/lad:options</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>resources</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/las:api/las:resource</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:viewport</td>
                                 <td>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e2189">
                     <summary>
                        <strong>lax:get-available-formats-v7</strong> (getting-available-formats)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (378)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get available formats</h2>
                              <p>Selects one page from the middle of the document and checks which resources are available on-line.</p>
                              <p>For each requested <code>&lt;resource></code> adds <code>@available</code> attribute.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění dostupných formátů</h2>
                              <p>Pro stránku zprostředka publikace zjistí, které všechny zdroje jsou dostupné on-line.</p>
                              <p>Pro každý požadovaný zdroj vytvoří atribut <code>@available</code> v rámci elementu <code>&lt;lad:resource></code>.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (3)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>base-url</td>
                                 <td>name = base-url | as = xs:anyURI</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 7)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (378)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get available formats</h2>
                              <p>Selects one page from the middle of the document and checks which resources are available on-line.</p>
                              <p>For each requested <code>&lt;resource></code> adds <code>@available</code> attribute.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění dostupných formátů</h2>
                              <p>Pro stránku zprostředka publikace zjistí, které všechny zdroje jsou dostupné on-line.</p>
                              <p>Pro každý požadovaný zdroj vytvoří atribut <code>@available</code> v rámci elementu <code>&lt;lad:resource></code>.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>size</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>as</td>
                                 <td>xs:integer</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>count(/lad:document/lad:pages/lad:page)</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>page</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/lad:pages/lad:page[xs:integer($size div 2)]</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>options</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/lad:options</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>resources</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/las:api/las:resource[tokenize(@level) = 'page'][@type=tokenize($options/@page-resources)]</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:for-each</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$resources</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@available-resources</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>first-child</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@getting-available-formats</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:namespace-delete</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>prefixes</td>
                                 <td>array</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e2312">
                     <summary>
                        <strong>lax:get-available-format-v7</strong> (getting-available-format)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (247)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get available format</h2>
                              <p>Checks if the resource is available on-line.</p>
                              <p>Returns <code>&lt;resource></code> with the <code>@available</code> attribute.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění dostupnosti formátu</h2>
                              <p>Zjistí, zda je požadovaný zdroj dostupný on-line.</p>
                              <p>Vrací element <code>&lt;lad:resource></code> s atributem <code>@available</code>.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (4)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>url</td>
                                 <td>name = url | as = xs:anyURI | required = true</td>
                              </tr>
                              <tr>
                                 <td>format</td>
                                 <td>name = format | as = xs:string | required = true</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 7)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (247)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get available format</h2>
                              <p>Checks if the resource is available on-line.</p>
                              <p>Returns <code>&lt;resource></code> with the <code>@available</code> attribute.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění dostupnosti formátu</h2>
                              <p>Zjistí, zda je požadovaný zdroj dostupný on-line.</p>
                              <p>Vrací element <code>&lt;lad:resource></code> s atributem <code>@available</code>.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:http-request</td>
                                 <td>request</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>assert</td>
                                 <td>.?status-code lt 500</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>{$url}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>parameters</td>
                                 <td>map{'status-only' : true(), 'follow-redirect' : 3 }</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>available</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>report@request</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>.?status-code = (200, 307, 301)</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:add-attribute</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-name</td>
                                 <td>{$format}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-value</td>
                                 <td>{$available}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@getting-available-format</td>
                              </tr>
                              <tr class="call disabled">
                                 <td>6</td>
                                 <td class="step">p:insert</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call disabled">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:page</td>
                              </tr>
                              <tr class="call disabled">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>first-child</td>
                              </tr>
                              <tr class="call disabled">
                                 <td colspan="3">
                                 </td>
                                 <td>use-when</td>
                                 <td>false()</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:identity</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
            <details class="file">
               <summary>
                  <strong>libri-augmentati.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (199)          
        </summary>
                     <section xml:lang="en"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:mods="http://www.loc.gov/mods/v3"
                              xmlns:err="http://www.w3.org/ns/xproc-error"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                              xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:mox="http://www.xml-project.com/morganaxproc"
                              xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                              xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Libri augmentati</h1>
                        <p>The main programming library for digital library data retrieval and enrichment.</p>
                     </section>
                     <section xml:lang="cs"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:mods="http://www.loc.gov/mods/v3"
                              xmlns:err="http://www.w3.org/ns/xproc-error"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                              xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:mox="http://www.xml-project.com/morganaxproc"
                              xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                              xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Libri augmentati</h1>
                        <p>Hlavní programová knihovna pro získání dat z digitálních knihoven a jejich obohacení.</p>
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (18)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>array</td>
                           <td>http://www.w3.org/2005/xpath-functions/array</td>
                        </tr>
                        <tr>
                           <td>c</td>
                           <td>http://www.w3.org/ns/xproc-step</td>
                        </tr>
                        <tr>
                           <td>err</td>
                           <td>http://www.w3.org/ns/xproc-error</td>
                        </tr>
                        <tr>
                           <td>lac</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/conversion/1.0</td>
                        </tr>
                        <tr>
                           <td>lad</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/documents/1.0</td>
                        </tr>
                        <tr>
                           <td>lae</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0</td>
                        </tr>
                        <tr>
                           <td>lap</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/processing/1.0</td>
                        </tr>
                        <tr>
                           <td>lar</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/report/1.0</td>
                        </tr>
                        <tr>
                           <td>las</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/settings/1.0</td>
                        </tr>
                        <tr>
                           <td>lax</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/xproc/1.0</td>
                        </tr>
                        <tr>
                           <td>map</td>
                           <td>http://www.w3.org/2005/xpath-functions/map</td>
                        </tr>
                        <tr>
                           <td>mods</td>
                           <td>http://www.loc.gov/mods/v3</td>
                        </tr>
                        <tr>
                           <td>mox</td>
                           <td>http://www.xml-project.com/morganaxproc</td>
                        </tr>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xhtml</td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>xlog</td>
                           <td>https://www.daliboris.cz/ns/xproc/logging/1.0</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
                  <details class="imports">
                     <summary>
                        <strong>Imports</strong>  (0)</summary>
                     <ol>
                     </ol>
                  </details>
                  <details class="options">
                     <summary>
                        <strong>Options</strong>  (0)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>name</th>
                              <th>properties</th>
                           </tr>
                        </thead>
                     </table>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (10 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (199)          
        </summary>
                     <section xml:lang="en"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:mods="http://www.loc.gov/mods/v3"
                              xmlns:err="http://www.w3.org/ns/xproc-error"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                              xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:mox="http://www.xml-project.com/morganaxproc"
                              xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                              xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Libri augmentati</h1>
                        <p>The main programming library for digital library data retrieval and enrichment.</p>
                     </section>
                     <section xml:lang="cs"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                              xmlns:mods="http://www.loc.gov/mods/v3"
                              xmlns:err="http://www.w3.org/ns/xproc-error"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                              xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                              xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                              xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                              xmlns:mox="http://www.xml-project.com/morganaxproc"
                              xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                              xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                              xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                        <h1>Libri augmentati</h1>
                        <p>Hlavní programová knihovna pro získání dat z digitálních knihoven a jejich obohacení.</p>
                     </section>
                  </details>
                  <details class="step"
                           id="d53e2500">
                     <summary>
                        <strong>lax:build-virtual-document</strong> (building-virtual-document)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (321)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Build virtual document</h2>
                              <p>Gathers all requested metadata about the publication. Creates the content of the virtual document with links to all requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Sestavení virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná metadata o publikaci. Vytvoří strukturu virutálního dokumentu s odkazy na všechny požadované zdroje.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (7)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>library-code</td>
                                 <td>name = library-code | as = xs:string | required = true</td>
                              </tr>
                              <tr>
                                 <td>api-version</td>
                                 <td>name = api-version | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>system</td>
                                 <td>name = system | as = xs:string? | values = ('Kramerius', 'Polona') | required = false</td>
                              </tr>
                              <tr>
                                 <td>document-resources</td>
                                 <td>name = document-resources | as = xs:token*</td>
                              </tr>
                              <tr>
                                 <td>page-resources</td>
                                 <td>name = page-resources | as = xs:token*</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>settings</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 8)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (321)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Build virtual document</h2>
                              <p>Gathers all requested metadata about the publication. Creates the content of the virtual document with links to all requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Sestavení virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná metadata o publikaci. Vytvoří strukturu virutálního dokumentu s odkazy na všechny požadované zdroje.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>library</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>settings@building-virtual-document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/las:digital-libraries/las:libraries/las:library[@code=$library-code]</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>apis</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>settings@building-virtual-document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/las:digital-libraries/las:apis/las:api</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>api</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>let $lib-apis := $apis[@xml:id =$library/las:api/@ref/substring-after(., '#')] return if(exists($api-version)) then $lib-apis[@version=$api-version] else $lib-apis[1] </td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:variable</td>
                                 <td>base-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$library/las:api[@ref=concat('#', $api/@xml:id)]/@url</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:identity</td>
                                 <td>options</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>8</td>
                                 <td class="step">p:for-each</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:documents/lad:document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@building-virtual-document</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e2603">
                     <summary>
                        <strong>lax:get-virtual-document-metadata</strong> (getting-virtual-document-metadata)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (506)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document metadata</h2>
                              <p>Gathers all requested metadata about the publication. Downloads the content (files) of the virtual document from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání metadat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná metadata publikace. Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (4)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 9)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (506)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get virtual document metadata</h2>
                              <p>Gathers all requested metadata about the publication. Downloads the content (files) of the virtual document from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Získání metadat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná metadata publikace. Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>api-version</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/lad:options/@api-version</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>system</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/lad:options/@system</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>library-code</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/las:library/@code</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:variable</td>
                                 <td>library</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/lad:document/las:library</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:choose</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>8</td>
                                 <td class="step">p:namespace-delete</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>prefixes</td>
                                 <td>c xs map mox array</td>
                              </tr>
                              <tr class="call">
                                 <td>9</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e2712">
                     <summary>
                        <strong>lax:download-document-data</strong> (downloading-document-data)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (511)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Download document data</h2>
                              <p>Gathers all requested data and metadata about the publication. Downloads the content (files) of the virtual document from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Stažení dat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná data a metadata publikace. Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (4)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | required = true | as = xs:string</td>
                              </tr>
                              <tr>
                                 <td>pause-before-request</td>
                                 <td>name = pause-before-request | select = 2 | as = xs:integer</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (4)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 2)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (511)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Download document data</h2>
                              <p>Gathers all requested data and metadata about the publication. Downloads the content (files) of the virtual document from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Stažení dat virtuálního dokumentu</h2>
                              <p>Shromáždí všechna požadovaná data a metadata publikace. Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:viewport</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:viewport</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:document</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e2814">
                     <summary>
                        <strong>lax:download-document-resources</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (398)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Download document resources</h2>
                              <p>Downloads the content (files) of the document-related resources from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Stažení zdrojů dokumentu</h2>
                              <p>Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (6)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | required = true | as = xs:string</td>
                              </tr>
                              <tr>
                                 <td>position</td>
                                 <td>name = position | required = true</td>
                              </tr>
                              <tr>
                                 <td>type</td>
                                 <td>name = type | required = true | as = xs:string</td>
                              </tr>
                              <tr>
                                 <td>pause-before-request</td>
                                 <td>name = pause-before-request | required = true | as = xs:integer</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (398)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Download document resources</h2>
                              <p>Downloads the content (files) of the document-related resources from external targets.</p>
                              <p>Saves data to the disk and enhance input data by adding info about local path of the requested resources.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Stažení zdrojů dokumentu</h2>
                              <p>Stáhne obsah (soubory) virutálního dokumentu z externích odkazů.</p>
                              <p>Uloží data na disk a obohatí vstupní data přidáním informace o lokálním uložení zdrojů.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>output-directory-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($output-directory, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:viewport</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>lax:check-local-file-exists</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>lax:check-local-file-exists</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lad:resource</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:if</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:set-attributes</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:variable</td>
                                 <td>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e2922">
                     <summary>
                        <strong>lax:check-local-file-exists</strong> (checking-local-file-exists)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (164)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Check local file exists</h2>
                              <p>Checks if the file is stored on the local computer.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění existence místního souboru</h2>
                              <p>Zjistí, jestli je soubor stažen na místním počítači.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 6)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (164)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Check local file exists</h2>
                              <p>Checks if the file is stored on the local computer.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Zjištění existence místního souboru</h2>
                              <p>Zjistí, jestli je soubor stažen na místním počítači.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>local-path</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/*/@local-uri</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:file-info</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>fail-on-error</td>
                                 <td>false</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>{$local-path}</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>file-exists</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>exists(/c:file)</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:add-attribute</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-name</td>
                                 <td>local-file-exists</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attribute-value</td>
                                 <td>{$file-exists}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@checking-local-file-exists</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e3011">
                     <summary>
                        <strong>lax:download-document-data-items</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (28)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Download document data items</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | required = true</td>
                              </tr>
                              <tr>
                                 <td>type</td>
                                 <td>name = type | required = true | as = xs:string</td>
                              </tr>
                              <tr>
                                 <td>pause-before-request</td>
                                 <td>name = pause-before-request | required = true | as = xs:integer</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 1)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (28)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Download document data items</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:for-each</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>.</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e3078">
                     <summary>
                        <strong>lax:download-document</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (17)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Download document</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>url</td>
                                 <td>name = url | as = xs:anyURI</td>
                              </tr>
                              <tr>
                                 <td>local-path</td>
                                 <td>name = local-path | as = xs:string</td>
                              </tr>
                              <tr>
                                 <td>pause-before-request</td>
                                 <td>name = pause-before-request | required = true | as = xs:integer</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>source</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 3)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (17)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Download document</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>content-type</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>if(ends-with($url, '.txt')) then 'text/plain' else if(ends-with($url, '.djvu')) then 'image/vnd.djvu' else '*/*'</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>local-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($local-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:try</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:catch</td>
                                 <td>
    
    
     
      File {$url} not downloaded
     
    
   </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:catch</td>
                                 <td>
    
    
     
      File {$url} not downloaded
     
    
   </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:http-request</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e3153">
                     <summary>
                        <strong>lax:enrich-document-data</strong> (enriching-document-data)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (208)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Enrich document data</h2>
                              <p>Enriches available (textual) data of the digital book by available services.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Obohacení dat dokumentu</h2>
                              <p>Obohatí dostupná dostupná (textová) data digitální publikací pomocí dostupných služeb.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (6)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | required = true | as = xs:string</td>
                              </tr>
                              <tr>
                                 <td>pause-before-request</td>
                                 <td>name = pause-before-request | select = 2 | as = xs:integer</td>
                              </tr>
                              <tr>
                                 <td>output-format</td>
                                 <td>name = output-format | values = ('TEXT', 'TEI') | as = xs:string*</td>
                              </tr>
                              <tr>
                                 <td>enrichment</td>
                                 <td>name = enrichment | values = ('ENTITIES', 'MORPHOLOGY') | as = xs:string*</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>settings</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 1)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (208)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Enrich document data</h2>
                              <p>Enriches available (textual) data of the digital book by available services.</p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Obohacení dat dokumentu</h2>
                              <p>Obohatí dostupná dostupná (textová) data digitální publikací pomocí dostupných služeb.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">lae:enrich-data</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>base-uri</td>
                                 <td>{$base-uri}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>debug-path</td>
                                 <td>{$debug-path}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>enrichment</td>
                                 <td>$enrichment</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>output-directory</td>
                                 <td>{$output-directory}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>output-format</td>
                                 <td>$output-format</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>report-in@enriching-document-data</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>settings@enriching-document-data</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e3237">
                     <summary>
                        <strong>lax:create-report</strong> (creating-report)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (13)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Create report</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (3)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | select = () | as = xs:string?</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (3)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>result-uri</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 5)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (13)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Create report</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>save-output</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$output-directory || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>output-directory-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($output-directory, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:for-each</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/*</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e3316">
                     <summary>
                        <strong>lax:get-document-id</strong>
                     </summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (15)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get document id</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>source</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 1)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (15)          
        </summary>
                           <section xml:lang="en"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>Get document id</h2>
                              <p>
                              </p>
                           </section>
                           <section xml:lang="cs"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lax="https://www.mzk.cz/ns/libri-augmentati/xproc/1.0"
                                    xmlns:mods="http://www.loc.gov/mods/v3"
                                    xmlns:err="http://www.w3.org/ns/xproc-error"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:lac="https://www.mzk.cz/ns/libri-augmentati/conversion/1.0"
                                    xmlns:lae="https://www.mzk.cz/ns/libri-augmentati/enrichment/1.0"
                                    xmlns:xlog="https://www.daliboris.cz/ns/xproc/logging/1.0"
                                    xmlns:array="http://www.w3.org/2005/xpath-functions/array"
                                    xmlns:mox="http://www.xml-project.com/morganaxproc"
                                    xmlns:lap="https://www.mzk.cz/ns/libri-augmentati/processing/1.0"
                                    xmlns:lar="https://www.mzk.cz/ns/libri-augmentati/report/1.0"
                                    xmlns:map="http://www.w3.org/2005/xpath-functions/map"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:identity</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
            <details class="file">
               <summary>
                  <strong>nametag.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (7)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>
                           </td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>lad</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/documents/1.0</td>
                        </tr>
                        <tr>
                           <td>lant</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/nametag/1.0</td>
                        </tr>
                        <tr>
                           <td>las</td>
                           <td>https://www.mzk.cz/ns/libri-augmentati/settings/1.0</td>
                        </tr>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (3 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                     </section>
                  </details>
                  <details class="step"
                           id="d53e3394">
                     <summary>
                        <strong>lant:get-nametag-analysis</strong> (getting-nametag-analysis)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (178)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <p>Převede vstupní text na dokument ve formátu XML.</p>
                              <p>Zavolá API služby NameTag, předá jí text k rozpoznání a výsledek (dokument JSON) převede pomocí XSLT transformace na validní XML.</p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (5)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>settings</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 10)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (178)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                                    xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                                    xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">
                              <p>Převede vstupní text na dokument ve formátu XML.</p>
                              <p>Zavolá API služby NameTag, předá jí text k rozpoznání a výsledek (dokument JSON) převede pomocí XSLT transformace na validní XML.</p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>service</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>settings@getting-nametag-analysis</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>//las:service[@code='nametag']</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>service-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:documentation</td>
                                 <td>URL RESTové služby.</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$service/las:api/@url</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>api-id</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:documentation</td>
                                 <td>Identifikátor RESTové služby.</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>substring-after($service/las:api/@ref, '#')</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:variable</td>
                                 <td>feature</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>settings@getting-nametag-analysis</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>//las:api[@xml:id=$api-id]/las:feature[@type='entities'][@method='post']</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:variable</td>
                                 <td>step-url</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($service-url, $feature/@url)</td>
                              </tr>
                              <tr class="call">
                                 <td>8</td>
                                 <td class="step">p:variable</td>
                                 <td>full-text</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>.</td>
                              </tr>
                              <tr class="call">
                                 <td>9</td>
                                 <td class="step">p:http-request</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>{$step-url}</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>method</td>
                                 <td>'POST'</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:documentation</td>
                                 <td>
    
     Volání API služby NameTag pomocí metodyPOST. Jako vstupní parametr služby se předává prostý text, kódovaný pro URI.
    
   </td>
                              </tr>
                              <tr class="call">
                                 <td>10</td>
                                 <td class="step">p:identity</td>
                                 <td>final</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e3472">
                     <summary>
                        <strong>lant:convert-nametag-analysis-to-xml</strong>
                     </summary>
                     <div class="prolog">
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 5)</summary>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>model</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>normalize-space(?model)</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:cast-content-type</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>content-type</td>
                                 <td>application/xml</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>?result</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:xslt</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>version</td>
                                 <td>3.0</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:cast-content-type</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>content-type</td>
                                 <td>application/xml</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:choose</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
                  <details class="step"
                           id="d53e3505">
                     <summary>
                        <strong>lant:get-nametag-analyses</strong> (getting-nametag-analyses)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (172)          
        </summary>
                           <a href="https://ufal.mff.cuni.cz/nametag/2"
                              alt="NameTag"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">NameTag</a>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (3)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                              <tr>
                                 <td>output-directory</td>
                                 <td>name = output-directory | required = true | as = xs:string</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (6)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>settings</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>input</td>
                                 <td>report-in</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>report</td>
                                 <td>false</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>data</td>
                                 <td>false</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 14)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (172)          
        </summary>
                           <a href="https://ufal.mff.cuni.cz/nametag/2"
                              alt="NameTag"
                              xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:lant="https://www.mzk.cz/ns/libri-augmentati/nametag/1.0"
                              xmlns:lad="https://www.mzk.cz/ns/libri-augmentati/documents/1.0"
                              xmlns:las="https://www.mzk.cz/ns/libri-augmentati/settings/1.0">NameTag</a>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:variable</td>
                                 <td>main-directory-path</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>//lant:request/@main-directory-path</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:variable</td>
                                 <td>result-directory-path</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:documentation</td>
                                 <td>Složka, do níž se uloží stažené dokumenty. Cesta ke složce může být absolutní i relativní.</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>concat($output-directory, '/nametag')</td>
                              </tr>
                              <tr class="call">
                                 <td>5</td>
                                 <td class="step">p:variable</td>
                                 <td>result-directory-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($result-directory-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>6</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                              <tr class="call">
                                 <td>7</td>
                                 <td class="step">p:variable</td>
                                 <td>input</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@getting-nametag-analyses</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>//lad:page</td>
                              </tr>
                              <tr class="call">
                                 <td>8</td>
                                 <td class="step">p:variable</td>
                                 <td>root</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@getting-nametag-analyses</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>/*</td>
                              </tr>
                              <tr class="call">
                                 <td>9</td>
                                 <td class="step">p:for-each</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>//lad:pages/lad:page</td>
                              </tr>
                              <tr class="call">
                                 <td>10</td>
                                 <td class="step">p:identity</td>
                                 <td>data</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>data@loop</td>
                              </tr>
                              <tr class="call">
                                 <td>11</td>
                                 <td class="step">p:wrap-sequence</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:documentation</td>
                                 <td>Zabalení sekvence elementů &lt;lant:item&lt; do nadřazeného elementu.</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>result@loop</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>wrapper</td>
                                 <td>lant:step</td>
                              </tr>
                              <tr class="call">
                                 <td>12</td>
                                 <td class="step">p:set-attributes</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>attributes</td>
                                 <td>map{    'name' :  'getting-nametag-analyses',     'result-directory-path' : $result-directory-path     }</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>/*</td>
                              </tr>
                              <tr class="call">
                                 <td>13</td>
                                 <td class="step">p:identity</td>
                                 <td>metadata</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="call">
                                 <td>14</td>
                                 <td class="step">p:insert</td>
                                 <td>final-report</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>@metadata</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>match</td>
                                 <td>lant:report/lant:result</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:documentation</td>
                                 <td>Doplnění zprávy o zpracovaných prvcích.</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>position</td>
                                 <td>last-child</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>pipe</td>
                                 <td>source@getting-nametag-analyses</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
            <details class="file">
               <summary>
                  <strong>tei.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:xf="https://www.example.com/ns/xproc/function">
                        <h1>
                        </h1>
                        <p>
                        </p>
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (5)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xf</td>
                           <td>https://www.example.com/ns/xproc/function</td>
                        </tr>
                        <tr>
                           <td>xhtml</td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (1 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:xf="https://www.example.com/ns/xproc/function">
                        <h1>
                        </h1>
                        <p>
                        </p>
                     </section>
                  </details>
                  <details class="step"
                           id="d53e3621">
                     <summary>
                        <strong>xf:first-function-tei</strong> (fist-function)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (0)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:xf="https://www.example.com/ns/xproc/function">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (0)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:xf="https://www.example.com/ns/xproc/function">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:xslt</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>parameters</td>
                                 <td>map {'parameter' : 'value' }</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>../Xslt/?.xsl</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
            <details class="file">
               <summary>
                  <strong>udpipe.xpl</strong>
               </summary>
               <div class="prolog">
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:xf="https://www.example.com/ns/xproc/function">
                        <h1>
                        </h1>
                        <p>
                        </p>
                     </section>
                  </details>
                  <details class="namespaces">
                     <summary>
                        <strong>Namespaces</strong>  (5)</summary>
                     <table>
                        <thead>
                           <tr>
                              <th>prefix</th>
                              <th>string</th>
                           </tr>
                        </thead>
                        <tr>
                           <td>p</td>
                           <td>http://www.w3.org/ns/xproc</td>
                        </tr>
                        <tr>
                           <td>xf</td>
                           <td>https://www.example.com/ns/xproc/function</td>
                        </tr>
                        <tr>
                           <td>xhtml</td>
                           <td>http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td>xs</td>
                           <td>http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td>xml</td>
                           <td>http://www.w3.org/XML/1998/namespace</td>
                        </tr>
                     </table>
                  </details>
               </div>
               <details class="body">
                  <summary>
                     <strong>Steps</strong> (1 + 0)</summary>
                  <details class="documentation">
                     <summary>
                        <strong>Documentation</strong> (0)          
        </summary>
                     <section xmlns="http://www.w3.org/1999/xhtml"
                              xmlns:xf="https://www.example.com/ns/xproc/function">
                        <h1>
                        </h1>
                        <p>
                        </p>
                     </section>
                  </details>
                  <details class="step"
                           id="d53e3694">
                     <summary>
                        <strong>xf:first-function-udpipe</strong> (fist-function)</summary>
                     <div class="prolog">
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (0)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:xf="https://www.example.com/ns/xproc/function">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <details class="options">
                           <summary>
                              <strong>Options</strong>  (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>name</th>
                                    <th>properties</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>debug-path</td>
                                 <td>name = debug-path | select = () | as = xs:string?</td>
                              </tr>
                              <tr>
                                 <td>base-uri</td>
                                 <td>name = base-uri | as = xs:anyURI | select = static-base-uri()</td>
                              </tr>
                           </table>
                        </details>
                        <details class="ports">
                           <summary>
                              <strong>Ports</strong> (2)</summary>
                           <table>
                              <thead>
                                 <tr>
                                    <th>direction</th>
                                    <th>value</th>
                                    <th>primary</th>
                                 </tr>
                              </thead>
                              <tr>
                                 <td>input</td>
                                 <td>
                                    <strong>source</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                              <tr>
                                 <td>output</td>
                                 <td>
                                    <strong>result</strong>
                                 </td>
                                 <td>true</td>
                              </tr>
                           </table>
                        </details>
                     </div>
                     <details class="body">
                        <summary>
                           <strong>Steps</strong> (0 + 4)</summary>
                        <details class="documentation">
                           <summary>
                              <strong>Documentation</strong> (0)          
        </summary>
                           <section xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:xf="https://www.example.com/ns/xproc/function">
                              <h2>
                              </h2>
                              <p>
                              </p>
                           </section>
                        </details>
                        <table class="steps">
                           <thead>
                              <tr>
                                 <th>position</th>
                                 <th>step</th>
                                 <th>name</th>
                                 <th>parameter</th>
                                 <th>value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="call">
                                 <td>1</td>
                                 <td class="step">p:variable</td>
                                 <td>debug</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>$debug-path || '' ne ''</td>
                              </tr>
                              <tr class="call">
                                 <td>2</td>
                                 <td class="step">p:variable</td>
                                 <td>debug-path-uri</td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>select</td>
                                 <td>resolve-uri($debug-path, $base-uri)</td>
                              </tr>
                              <tr class="call">
                                 <td>3</td>
                                 <td class="step">p:xslt</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>parameters</td>
                                 <td>map {'parameter' : 'value' }</td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>href</td>
                                 <td>../Xslt/?.xsl</td>
                              </tr>
                              <tr class="call">
                                 <td>4</td>
                                 <td class="step">p:if</td>
                                 <td>
                                 </td>
                                 <td colspan="2">
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>p:store</td>
                                 <td>
                                 </td>
                              </tr>
                              <tr class="parameter">
                                 <td colspan="3">
                                 </td>
                                 <td>test</td>
                                 <td>$debug</td>
                              </tr>
                           </tbody>
                        </table>
                     </details>
                  </details>
               </details>
            </details>
         </main>
         <nav class="overview">
            <h2>List of steps</h2>
            <ol>
               <li>
                  <a href="#d53e103">lac:convert</a>
               </li>
               <li>
                  <a href="#d53e154">lac:convert-djvu</a>
               </li>
               <li>
                  <a href="#d53e219">lac:convert-djvu-item</a>
               </li>
               <li>
                  <a href="#d53e308">lac:fix-path</a>
               </li>
               <li>
                  <a href="#d53e462">lae:enrich-by-entities</a>
               </li>
               <li>
                  <a href="#d53e557">lae:enrich-by-morphology</a>
               </li>
               <li>
                  <a href="#d53e424">lae:enrich-data</a>
               </li>
               <li>
                  <a href="#d53e3472">lant:convert-nametag-analysis-to-xml</a>
               </li>
               <li>
                  <a href="#d53e3505">lant:get-nametag-analyses</a>
               </li>
               <li>
                  <a href="#d53e3394">lant:get-nametag-analysis</a>
               </li>
               <li>
                  <a href="#d53e2500">lax:build-virtual-document</a>
               </li>
               <li>
                  <a href="#d53e2922">lax:check-local-file-exists</a>
               </li>
               <li>
                  <a href="#d53e3237">lax:create-report</a>
               </li>
               <li>
                  <a href="#d53e3078">lax:download-document</a>
               </li>
               <li>
                  <a href="#d53e2712">lax:download-document-data</a>
               </li>
               <li>
                  <a href="#d53e3011">lax:download-document-data-items</a>
               </li>
               <li>
                  <a href="#d53e2814">lax:download-document-resources</a>
               </li>
               <li>
                  <a href="#d53e3153">lax:enrich-document-data</a>
               </li>
               <li>
                  <a href="#d53e1425">lax:get-available-format</a>
               </li>
               <li>
                  <a href="#d53e2312">lax:get-available-format-v7</a>
               </li>
               <li>
                  <a href="#d53e1245">lax:get-available-formats</a>
               </li>
               <li>
                  <a href="#d53e2189">lax:get-available-formats-v7</a>
               </li>
               <li>
                  <a href="#d53e3316">lax:get-document-id</a>
               </li>
               <li>
                  <a href="#d53e1131">lax:get-source-url</a>
               </li>
               <li>
                  <a href="#d53e2077">lax:get-source-url-v7</a>
               </li>
               <li>
                  <a href="#d53e857">lax:get-virtual-document-data-v5</a>
               </li>
               <li>
                  <a href="#d53e1803">lax:get-virtual-document-data-v7</a>
               </li>
               <li>
                  <a href="#d53e2603">lax:get-virtual-document-metadata</a>
               </li>
               <li>
                  <a href="#d53e721">lax:get-virtual-document-metadata-v5</a>
               </li>
               <li>
                  <a href="#d53e1621">lax:get-virtual-document-metadata-v7</a>
               </li>
               <li>
                  <a href="#d53e936">lax:get-virtual-document-pages</a>
               </li>
               <li>
                  <a href="#d53e1891">lax:get-virtual-document-pages-v7</a>
               </li>
               <li>
                  <a href="#d53e1036">lax:pages-convert-json-to-xml</a>
               </li>
               <li>
                  <a href="#d53e1982">lax:pages-convert-json-to-xml-v7</a>
               </li>
               <li>
                  <a href="#d53e28">xf:first-function-alto</a>
               </li>
               <li>
                  <a href="#d53e3621">xf:first-function-tei</a>
               </li>
               <li>
                  <a href="#d53e3694">xf:first-function-udpipe</a>
               </li>
            </ol>
         </nav>
      </div>
      <script>
      
      
            function collapseOrExpandItems(expandSelector, itemsSelector, mainExpand) {
              const expand = document.querySelector(expandSelector);
              const items = document.querySelectorAll(itemsSelector);
              
              expand.addEventListener("click", (e) => {
              if(expand.checked && !mainExpand.checked) {
                mainExpand.click();
              }
              items.forEach((item) => {
                if(!expand.checked) 
                  {item.removeAttribute('open')}
                else
                  {item.setAttribute('open', 'open')}
              });
            });
            };
            
            const expandFiles = document.querySelector("#expand-files");
            const expandAll = document.querySelector('#expand-all');
            
            const items = document.querySelectorAll("details");
            expandAll.addEventListener("click", (e) => {
              
              items.forEach((item) => {
                if(!expandAll.checked) 
                  {item.removeAttribute('open')}
                else
                  {item.setAttribute('open', 'open')}
              });
            });
            
            collapseOrExpandItems("#expand-files", "details.file", expandFiles);
            collapseOrExpandItems("#expand-steps", "details.body", expandFiles);
            collapseOrExpandItems("#expand-documentation", "details.documentation", expandFiles);

            
            
    </script>
   </body>
</html>